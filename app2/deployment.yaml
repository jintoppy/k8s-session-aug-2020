apiVersion: apps/v1
kind: Deployment
metadata:
    name: exercise-app2-deployment
spec:
    replicas: 2
    selector:
        matchLabels:
          app: exercise-app2            
    template:
        metadata:
            labels:
              app: exercise-app2
        spec:
          containers:
          - name: exercise-app2
            image: docker.io/jintoppy/exercise-app-2:latest
            imagePullPolicy: IfNotPresent
            ports:
              - containerPort: 3000
---
apiVersion: v1
kind: Service
metadata:
  name: exercise-app2-srv
  labels:
    app: build-analytics
    service: build-analytics
spec:
  ports:
  - port: 3000
    targetPort: 3000
    nodePort: 31007
    name: http
  selector:
    app: exercise-app2
  type: NodePort